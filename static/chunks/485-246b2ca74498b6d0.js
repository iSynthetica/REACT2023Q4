(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[485],{8485:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eu}});var s=r(5893),n=r(7294),a=r(1248),o=r(1876);let c={s:window.localStorage.getItem("searchInput")||"",perPage:25,page:1,total:0,totalPages:0,products:[]},l=(0,o.oM)({name:"shop",initialState:c,reducers:{setSearchInput:(e,t)=>{e.s=t.payload},setPerPage:(e,t)=>{e.perPage=t.payload},setPage:(e,t)=>{e.page=t.payload},setTotal:(e,t)=>{e.total=t.payload},setTotalPages:(e,t)=>{e.totalPages=t.payload},setProducts:(e,t)=>{e.products=t.payload}}}),{setSearchInput:i,setPerPage:d,setPage:u,setTotal:h,setTotalPages:p,setProducts:g}=l.actions;l.reducer;var x=r(4012),j=r.n(x),m=r(1163);let _={s:window.localStorage.getItem("searchInput")||"",perPage:10,page:1,total:0,totalPages:0,products:[]},P=(0,o.oM)({name:"shop",initialState:_,reducers:{setSearchInput:(e,t)=>{e.s=t.payload},setPerPage:(e,t)=>{e.perPage=t.payload},setPage:(e,t)=>{e.page=t.payload},setTotal:(e,t)=>{e.total=t.payload},setTotalPages:(e,t)=>{e.totalPages=t.payload},setProducts:(e,t)=>{e.products=t.payload}}}),{setSearchInput:f,setPerPage:y,setPage:v,setTotal:N,setTotalPages:T,setProducts:I}=P.actions;var S=P.reducer;let w=(e,t,r)=>{e.preventDefault();let s=e.target,n=s.s.value.trim();localStorage.setItem("searchInput",n),t(f(n)),r.push("/")},C=(e,t,r)=>{t(y(Number(e.target.value))),r.push("/")};var b=()=>{let e=(0,a.v9)(e=>e.shop.s),t=(0,m.useRouter)(),r=(0,a.I0)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("section",{className:j().searchContainer,children:(0,s.jsxs)("form",{onSubmit:e=>{w(e,r,t)},children:[(0,s.jsx)("input",{type:"text",name:"s",placeholder:"Search...",defaultValue:e}),(0,s.jsx)("button",{children:"Search"})]})})})},M=r(2573),F=r.n(M),E=()=>{let e=(0,m.useRouter)(),{page:t,totalPages:r}=(0,a.v9)(e=>e.shop),n=(0,a.I0)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{id:"selectPage",className:F().selectPage,children:(0,s.jsxs)("h4",{children:[(0,s.jsx)("span",{children:"Page: "}),(0,s.jsx)("select",{value:t,onChange:t=>{let r=Number(t.target.value);console.log(r),n(v(Number(r)||1)),e.push("/page/".concat(r))},children:[...Array(r+1).keys()].slice(1).map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]})})})},L=r(4557),B=r.n(L),D=()=>{let e=(0,a.v9)(e=>e.shop.perPage),t=(0,m.useRouter)(),r=(0,a.I0)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:B().selectPerPage,children:(0,s.jsxs)("h4",{children:[(0,s.jsx)("span",{children:"Per page: "}),(0,s.jsxs)("select",{onChange:e=>{C(e,r,t)},value:e,children:[(0,s.jsx)("option",{value:"5",children:"5"}),(0,s.jsx)("option",{value:"10",children:"10"}),(0,s.jsx)("option",{value:"25",children:"25"}),(0,s.jsx)("option",{value:"50",children:"50"})]})]})})})},k=r(3766),W=r.n(k),Y=()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("section",{id:"footer",className:W().footer,children:[(0,s.jsx)(E,{}),(0,s.jsx)(D,{})]})}),Z=r(848),q=r(5673);let z=(0,Z.LC)({reducerPath:"productsApi",baseQuery:(0,q.ni)({baseUrl:"https://shop.synthetica.com.ua//wp-json/wc/v3",prepareHeaders:e=>(e.set("authorization","Basic ".concat("Y2tfOTNmOTkyZTA5ZjE1MTM5NzFiZjIwYWUwZDkyZWEyNzdmNWVmYTMzMjpjc18wYWE0ZGUxMzNlYzYxOGM1NWU3MjZiM2MxNWY4ODdkOTNiOWU3YTQy")),e)}),endpoints:e=>({fetchProduct:e.query({query:e=>({url:"/products/".concat(e)})}),fetchProducts:e.query({query:e=>{let{page:t=1,per_page:r=25,s=""}=e,n={page:t,per_page:r};return s.trim()&&(n.search=s),{url:"/products",params:n}},transformResponse(e,t){let r=1;t&&t.response&&t.response.headers&&(r=Number(t.response.headers.get("x-wp-totalpages")||"1"));let s=0;return t&&t.response&&t.response.headers&&(s=Number(t.response.headers.get("x-wp-total")||"0")),{products:e,total:s,totalPages:r}}})})}),{useFetchProductQuery:H,useFetchProductsQuery:O}=z,U=(0,o.xC)({reducer:{[z.reducerPath]:z.reducer,shop:S},middleware:e=>e().concat(z.middleware)});var R=e=>{let{children:t}=e;return(0,s.jsx)(a.zt,{store:U,children:t})};class Q extends n.Component{componentDidCatch(e,t){console.error("ErrorBoundary caught an error: ",e,t),this.setState({hasError:!0})}render(){return this.state.hasError?(0,s.jsx)("h1",{children:"Something went wrong."}):this.props.children}constructor(e){super(e),this.state={hasError:!1}}}function A(e){let{children:t}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(Q,{children:(0,s.jsxs)(R,{children:[(0,s.jsx)(b,{}),t,(0,s.jsx)(Y,{})]})})})}var G=r(784),V=r.n(G),J=r(4229),K=r.n(J),X=r(1664),$=r.n(X),ee=r(5675),et=r.n(ee),er=e=>{let{id:t,name:r,description:n,images:o,short_description:c}=e,{page:l}=(0,a.v9)(e=>e.shop);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("article",{children:[(0,s.jsx)("div",{className:K().imgContainer,children:(0,s.jsx)(et(),{src:o[0].src,alt:r,width:260,height:260,priority:!0})}),(0,s.jsxs)("div",{className:"descriptionContainer",children:[(0,s.jsx)("h3",{className:K().itemTitle,children:r}),(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:c||n}}),(0,s.jsx)($(),{className:K().button,href:l&&1!==l?"/page/".concat(l,"/product/").concat(t):"/product/".concat(t),children:"Product details"})]})]})})},es=r(9739),en=r.n(es),ea=()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("span",{className:en().loader})}),eo=r(9263),ec=r.n(eo),el=e=>{let{id:t}=e,{page:r}=(0,a.v9)(e=>e.shop),{data:n,isFetching:o}=H(Number(t));console.log(n);let c=()=>r&&1!==r?"/page/".concat(r):"/";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{id:"overlay",children:(0,s.jsx)($(),{href:c()})}),(0,s.jsx)("div",{id:"productDetails",className:ec().productDetails,children:o?(0,s.jsx)(ea,{}):n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{children:null==n?void 0:n.name}),(0,s.jsxs)("p",{className:"productMeta",children:["SKU: ",(0,s.jsx)("strong",{children:n.sku||n.slug})]}),n.categories&&n.categories.length?(0,s.jsxs)("p",{className:"productMeta",children:["Categories: ",(0,s.jsx)("strong",{children:n.categories[0].name})]}):"",(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:n.description}}),(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:n.price_html}}),(0,s.jsx)($(),{id:"closeButton",className:ec().closeButton,href:c(),children:"âŒ"})]}):(0,s.jsx)("h4",{children:"Not found"})})]})},ei=e=>{let{isError:t}=e,{s:r,total:n,totalPages:o,products:c}=(0,a.v9)(e=>e.shop);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("h3",{id:"resultTitle",children:c.length?r?(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:"Search result for <strong>".concat(r,"</strong> found <strong>").concat(n,"</strong> products in\n                  products titles and descriptions. Total pages <strong>").concat(o,"</strong>.")}}):t?"Something went wrong try again.":(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:"Total products <strong>".concat(n,"</strong>. Total pages <strong>").concat(o,"</strong>. Type into search field for filtering products by title or\n                  description.")}}):"Nothing found, try another request."})})},ed=()=>{let e=(0,m.useRouter)(),{s:t,perPage:r,page:o,products:c}=(0,a.v9)(e=>e.shop),l=(0,a.I0)(),{data:i,isFetching:d,isError:u}=O({s:t,per_page:r,page:o}),h=e.query.id;return(0,n.useEffect)(()=>{l(I([])),i&&(l(N(i.total)),l(T(i.totalPages)),l(I(i.products)))},[i,l]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("section",{className:V().contentContainer,children:d?(0,s.jsx)(ea,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ei,{isError:u}),(0,s.jsx)("div",{id:"productsList",children:c.map(e=>(0,s.jsx)(er,{...e},e.id))}),h?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(el,{id:Number(h)})}):""]})})})};function eu(){let e=(0,m.useRouter)(),t=(0,a.I0)();return(0,n.useEffect)(()=>{let r=window.localStorage.getItem("searchInput")||"";t(i(r));let s=e.query.page||1;t(v(Number(s)||1))}),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(ed,{})})}eu.getLayout=function(e){return(0,s.jsx)(A,{children:e})}},3766:function(e){e.exports={footer:"Footer_footer__o4_Ec"}},9739:function(e){e.exports={loader:"Loader_loader__P7_5y",fill:"Loader_fill__458By"}},2573:function(e){e.exports={selectPage:"Pagination_selectPage__eWByl"}},4557:function(e){e.exports={selectPerPage:"PerPage_selectPerPage__9bEv6"}},9263:function(e){e.exports={productDetails:"ProductDetails_productDetails__QBZVN",closeButton:"ProductDetails_closeButton__vbfIM"}},4229:function(e){e.exports={itemTitle:"ProductItem_itemTitle__Q6WOf",button:"ProductItem_button__EMg_t",imgContainer:"ProductItem_imgContainer__UBHJC"}},784:function(e){e.exports={contentContainer:"ProductsList_contentContainer__9SJu0",imgContainer:"ProductsList_imgContainer__4L_Sd"}},4012:function(e){e.exports={searchContainer:"Search_searchContainer__jjGTB"}}}]);