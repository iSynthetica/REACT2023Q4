exports.id=9,exports.ids=[9],exports.modules={3132:e=>{e.exports={footer:"Footer_footer__o4_Ec"}},7316:e=>{e.exports={loader:"Loader_loader__P7_5y",fill:"Loader_fill__458By"}},2878:e=>{e.exports={selectPage:"Pagination_selectPage__eWByl"}},8157:e=>{e.exports={selectPerPage:"PerPage_selectPerPage__9bEv6"}},5018:e=>{e.exports={productDetails:"ProductDetails_productDetails__QBZVN",closeButton:"ProductDetails_closeButton__vbfIM"}},4037:e=>{e.exports={itemTitle:"ProductItem_itemTitle__Q6WOf",button:"ProductItem_button__EMg_t",imgContainer:"ProductItem_imgContainer__UBHJC"}},3738:e=>{e.exports={contentContainer:"ProductsList_contentContainer__9SJu0",imgContainer:"ProductsList_imgContainer__4L_Sd"}},881:e=>{e.exports={searchContainer:"Search_searchContainer__jjGTB"}},5913:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(997);r(5923);let a=function({Component:e,pageProps:t}){let r=e.getLayout??(e=>e);return r(s.jsx(e,{...t}))}},8485:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ec});var s=r(997),a=r(6689),o=r(6022),n=r(5184);let l=(0,n.createSlice)({name:"shop",initialState:{s:"",perPage:25,page:1,total:0,totalPages:0,products:[]},reducers:{setSearchInput:(e,t)=>{e.s=t.payload},setPerPage:(e,t)=>{e.perPage=t.payload},setPage:(e,t)=>{e.page=t.payload},setTotal:(e,t)=>{e.total=t.payload},setTotalPages:(e,t)=>{e.totalPages=t.payload},setProducts:(e,t)=>{e.products=t.payload}}}),{setSearchInput:c,setPerPage:i,setPage:d,setTotal:u,setTotalPages:h,setProducts:p}=l.actions;l.reducer;var g=r(881),x=r.n(g),j=r(1163);let m=(0,n.createSlice)({name:"shop",initialState:{s:"",perPage:10,page:1,total:0,totalPages:0,products:[]},reducers:{setSearchInput:(e,t)=>{e.s=t.payload},setPerPage:(e,t)=>{e.perPage=t.payload},setPage:(e,t)=>{e.page=t.payload},setTotal:(e,t)=>{e.total=t.payload},setTotalPages:(e,t)=>{e.totalPages=t.payload},setProducts:(e,t)=>{e.products=t.payload}}}),{setSearchInput:_,setPerPage:P,setPage:y,setTotal:v,setTotalPages:f,setProducts:N}=m.actions,S=m.reducer,T=(e,t,r)=>{e.preventDefault();let s=e.target,a=s.s.value.trim();localStorage.setItem("searchInput",a),t(_(a)),r.push("/")},b=(e,t,r)=>{t(P(Number(e.target.value))),r.push("/")},C=()=>{let e=(0,o.useSelector)(e=>e.shop.s),t=(0,j.useRouter)(),r=(0,o.useDispatch)();return s.jsx(s.Fragment,{children:s.jsx("section",{className:x().searchContainer,children:(0,s.jsxs)("form",{onSubmit:e=>{T(e,r,t)},children:[s.jsx("input",{type:"text",name:"s",placeholder:"Search...",defaultValue:e}),s.jsx("button",{children:"Search"})]})})})};var M=r(2878),F=r.n(M);let D=()=>{let e=(0,j.useRouter)(),{page:t,totalPages:r}=(0,o.useSelector)(e=>e.shop),a=(0,o.useDispatch)();return s.jsx(s.Fragment,{children:s.jsx("div",{id:"selectPage",className:F().selectPage,children:(0,s.jsxs)("h4",{children:[s.jsx("span",{children:"Page: "}),s.jsx("select",{value:t,onChange:t=>{let r=Number(t.target.value);console.log(r),a(y(Number(r)||1)),e.push(`/page/${r}`)},children:[...Array(r+1).keys()].slice(1).map(e=>s.jsx("option",{value:e,children:e},e))})]})})})};var I=r(8157),w=r.n(I);let E=()=>{let e=(0,o.useSelector)(e=>e.shop.perPage),t=(0,j.useRouter)(),r=(0,o.useDispatch)();return s.jsx(s.Fragment,{children:s.jsx("div",{className:w().selectPerPage,children:(0,s.jsxs)("h4",{children:[s.jsx("span",{children:"Per page: "}),(0,s.jsxs)("select",{onChange:e=>{b(e,r,t)},value:e,children:[s.jsx("option",{value:"5",children:"5"}),s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"})]})]})})})};var L=r(3132),B=r.n(L);let $=()=>s.jsx(s.Fragment,{children:(0,s.jsxs)("section",{id:"footer",className:B().footer,children:[s.jsx(D,{}),s.jsx(E,{})]})});var W=r(4335);let Y=(0,W.createApi)({reducerPath:"productsApi",baseQuery:(0,W.fetchBaseQuery)({baseUrl:"https://shop.synthetica.com.ua//wp-json/wc/v3",prepareHeaders:e=>(e.set("authorization","Basic Y2tfOTNmOTkyZTA5ZjE1MTM5NzFiZjIwYWUwZDkyZWEyNzdmNWVmYTMzMjpjc18wYWE0ZGUxMzNlYzYxOGM1NWU3MjZiM2MxNWY4ODdkOTNiOWU3YTQy"),e)}),endpoints:e=>({fetchProduct:e.query({query:e=>({url:`/products/${e}`})}),fetchProducts:e.query({query:({page:e=1,per_page:t=25,s:r=""})=>{let s={page:e,per_page:t};return r.trim()&&(s.search=r),{url:"/products",params:s}},transformResponse(e,t){let r=1;t&&t.response&&t.response.headers&&(r=Number(t.response.headers.get("x-wp-totalpages")||"1"));let s=0;return t&&t.response&&t.response.headers&&(s=Number(t.response.headers.get("x-wp-total")||"0")),{products:e,total:s,totalPages:r}}})})}),{useFetchProductQuery:Z,useFetchProductsQuery:q}=Y,H=(0,n.configureStore)({reducer:{[Y.reducerPath]:Y.reducer,shop:S},middleware:e=>e().concat(Y.middleware)}),O=({children:e})=>s.jsx(o.Provider,{store:H,children:e});class U extends a.Component{constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error: ",e,t),this.setState({hasError:!0})}render(){return this.state.hasError?s.jsx("h1",{children:"Something went wrong."}):this.props.children}}function z({children:e}){return s.jsx(s.Fragment,{children:s.jsx(U,{children:(0,s.jsxs)(O,{children:[s.jsx(C,{}),e,s.jsx($,{})]})})})}var R=r(3738),k=r.n(R),Q=r(4037),A=r.n(Q),G=r(1664),V=r.n(G),J=r(5675),K=r.n(J);let X=({id:e,name:t,description:r,images:a,short_description:n})=>{let{page:l}=(0,o.useSelector)(e=>e.shop);return s.jsx(s.Fragment,{children:(0,s.jsxs)("article",{children:[s.jsx("div",{className:A().imgContainer,children:s.jsx(K(),{src:a[0].src,alt:t,width:260,height:260,priority:!0})}),(0,s.jsxs)("div",{className:"descriptionContainer",children:[s.jsx("h3",{className:A().itemTitle,children:t}),s.jsx("div",{dangerouslySetInnerHTML:{__html:n||r}}),s.jsx(V(),{className:A().button,href:l&&1!==l?`/page/${l}/product/${e}`:`/product/${e}`,children:"Product details"})]})]})})};var ee=r(7316),et=r.n(ee);let er=()=>s.jsx(s.Fragment,{children:s.jsx("span",{className:et().loader})});var es=r(5018),ea=r.n(es);let eo=({id:e})=>{let{page:t}=(0,o.useSelector)(e=>e.shop),{data:r,isFetching:a}=Z(Number(e));console.log(r);let n=()=>t&&1!==t?`/page/${t}`:"/";return(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{id:"overlay",children:s.jsx(V(),{href:n()})}),s.jsx("div",{id:"productDetails",className:ea().productDetails,children:a?s.jsx(er,{}):r?(0,s.jsxs)(s.Fragment,{children:[s.jsx("h2",{children:r?.name}),(0,s.jsxs)("p",{className:"productMeta",children:["SKU: ",s.jsx("strong",{children:r.sku||r.slug})]}),r.categories&&r.categories.length?(0,s.jsxs)("p",{className:"productMeta",children:["Categories: ",s.jsx("strong",{children:r.categories[0].name})]}):"",s.jsx("div",{dangerouslySetInnerHTML:{__html:r.description}}),s.jsx("div",{dangerouslySetInnerHTML:{__html:r.price_html}}),s.jsx(V(),{id:"closeButton",className:ea().closeButton,href:n(),children:"âŒ"})]}):s.jsx("h4",{children:"Not found"})})]})},en=({isError:e})=>{let{s:t,total:r,totalPages:a,products:n}=(0,o.useSelector)(e=>e.shop);return s.jsx(s.Fragment,{children:s.jsx("h3",{id:"resultTitle",children:n.length?t?s.jsx("div",{dangerouslySetInnerHTML:{__html:`Search result for <strong>${t}</strong> found <strong>${r}</strong> products in
                  products titles and descriptions. Total pages <strong>${a}</strong>.`}}):e?"Something went wrong try again.":s.jsx("div",{dangerouslySetInnerHTML:{__html:`Total products <strong>${r}</strong>. Total pages <strong>${a}</strong>. Type into search field for filtering products by title or
                  description.`}}):"Nothing found, try another request."})})},el=()=>{let e=(0,j.useRouter)(),{s:t,perPage:r,page:n,products:l}=(0,o.useSelector)(e=>e.shop),c=(0,o.useDispatch)(),{data:i,isFetching:d,isError:u}=q({s:t,per_page:r,page:n}),h=e.query.id;return(0,a.useEffect)(()=>{c(N([])),i&&(c(v(i.total)),c(f(i.totalPages)),c(N(i.products)))},[i,c]),s.jsx(s.Fragment,{children:s.jsx("section",{className:k().contentContainer,children:d?s.jsx(er,{}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(en,{isError:u}),s.jsx("div",{id:"productsList",children:l.map(e=>s.jsx(X,{...e},e.id))}),h?s.jsx(s.Fragment,{children:s.jsx(eo,{id:Number(h)})}):""]})})})};function ec(){let e=(0,j.useRouter)(),t=(0,o.useDispatch)();return(0,a.useEffect)(()=>{t(c(""));let r=e.query.page||1;t(y(Number(r)||1))}),s.jsx(s.Fragment,{children:s.jsx(el,{})})}ec.getLayout=function(e){return s.jsx(z,{children:e})}},5923:()=>{}};